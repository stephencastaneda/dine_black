{% extends 'shared/base.html' %}

{% block content %}
  <body>
    <h2 class="check_in_page_title" style="color: white">New Check-In</h2>
    <form style="color:white" class="check_in_edit_form" action="{% url 'dineblackapp:checkins' %}" method="post">
      {% csrf_token %}
      <fieldset>
          <label for="dish_name">Dish Name: </label>
          <input id="dish_name" type="text" name="dish_name">
      </fieldset>
      <fieldset>
          <label for="dish_image">Dish Image: </label>
          <input id="dish_image" type="text" name="dish_image">
      </fieldset>
      <fieldset>
          <label for="created_at">Date: </label>
          <input id="created_at" type="date" name="created_at">
      </fieldset>
      <fieldset>
          <label for="dish_rating_number">Dish Rating Number: </label>
          <input id="dish_rating_number" type="number" min="1" max="5" name="dish_rating_number">
      </fieldset>
      <fieldset>
          <label for="restaurant">Restaurant: </label>
          <select id="restaurant" type="text" name="restaurant">
                {% for restaurant in restaurants %}
                    <option value="{{ restaurant.id }}">{{ restaurant.name }}</option>
                {% endfor %}
          </select>
      </fieldset>

      <input type="submit" value="Check-In" />
    </form>

  <h3 class="check_in_user_name_title">{{ user.first_name }}'s Check-Ins</h3>
 <div class="d-flex flex-wrap">
    {% for user_check_in in user_check_ins %}
    <div class="card m-3 p-3" style="width: 18rem;">
  <img class="card-img-top rounded"  width="240px" height="200px" src="{{ user_check_in.dish_img }}" alt="Card image cap">
  <div class="card-body">
    <h5 class="card-title">{{ user_check_in.restaurant.name }}</h5>
    <p class="card-text">{{ user_check_in.dish_name }}</p>
    <section id="checkin-actions" style="display:flex;">
        <form action="{% url 'dineblackapp:checkin' user_check_in.id %}" method="POST">
          {% csrf_token %}
          <input type="hidden" name="actual_method" value="DELETE">
          <button class="btn btn-danger">Delete</button>
        </form>
        <form action="{% url 'dineblackapp:checkin_edit_form' user_check_in.id %}" method="GET">
            {% csrf_token %}
            <button class="btn btn-warning">Edit</button>
        </form>
      </section>
  </div>
</div>
{% endfor %}
</h3>

{% endblock content %}
